{"version":3,"file":"static/js/363.809d608b.chunk.js","mappings":"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","sources":["components/ChatInfo/TextChat/Text.tsx","components/dataFetch/dataFetch.ts","components/ChatInfo/Chatinfo.tsx","components/Loader/Loader.tsx"],"sourcesContent":["import { ChangeEvent, FC, useEffect, useState } from \"react\";\r\nimport \"./text.css\";\r\nimport \"./textError.css\";\r\nimport { useParams } from \"react-router-dom\";\r\ninterface ObjNotice {\r\n  text: string;\r\n}\r\n\r\nexport const Text: FC = () => {\r\n  const { chatId } = useParams();\r\n  const [text, setText] = useState(\"\");\r\n  const [textArray, setTextArray] = useState<ObjNotice[]>([]);\r\n  const [errHidden, setErrHidden] = useState(false);\r\n  const handleOnChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n    setText(e.currentTarget.value);\r\n  };\r\n  const checkPage = () => {\r\n    setTextArray([]);\r\n  };\r\n  useEffect(() => {\r\n    checkPage();\r\n  }, [chatId]);\r\n  const changeBooleon = () => {\r\n    setErrHidden(true);\r\n    setTimeout(() => {\r\n      setErrHidden(false);\r\n    }, 2000);\r\n  };\r\n  const handleSubmit = (e: ChangeEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    if (!text) {\r\n      changeBooleon();\r\n      return;\r\n    }\r\n    const arrMessage: ObjNotice = { text: text };\r\n    setTextArray((prevTextArray) => [...prevTextArray, arrMessage]);\r\n    setText(\"\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"text-container\">\r\n      {errHidden && <div className=\"text-error\">Please, enter text !</div>}\r\n      <div className=\"chat\">\r\n        {textArray.map((message, index) => (\r\n          <div className=\"message-wrap\" key={index}>\r\n            <p>{message.text}</p>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <form className=\"chat-input\" onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Enter a message\"\r\n          value={text}\r\n          onChange={handleOnChange}\r\n        />\r\n        <button type=\"submit\">Отправить</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n","import axios from \"axios\";\r\nimport React, { startTransition } from \"react\";\r\ninterface APIEntry {\r\n  API: string;\r\n  Description?: string;\r\n}\r\n\r\nconst baseUrl = \"https://api.publicapis.org/entries\";\r\nexport const fetchBase = async (): Promise<APIEntry[]> => {\r\n  try {\r\n    const { data }: { data: { entries: APIEntry[] } } = await axios.get(\r\n      baseUrl\r\n    );\r\n    const listInfo: APIEntry[] = data.entries.slice(10, 26);\r\n    return listInfo;\r\n  } catch (err) {\r\n    console.log(err);\r\n    throw err;\r\n  }\r\n};\r\nexport const fetchData = async (): Promise<void> => {\r\n  try {\r\n    const localItems = JSON.parse(localStorage.getItem(\"contact\") || \"[]\");\r\n    if (localItems.length > 0) return;\r\n    const data: APIEntry[] = await fetchBase();\r\n    localStorage.setItem(\"contact\", JSON.stringify(data));\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const fetchTextChat = async (\r\n  chatId: string,\r\n  setLoading: Function,\r\n  setList: Function\r\n): Promise<void> => {\r\n  try {\r\n    setLoading(true);\r\n    const data: APIEntry[] = await fetchBase();\r\n    startTransition(() => {\r\n      const filter = data.filter(({ API }) => API === chatId);\r\n      setList(filter);\r\n    });\r\n  } catch (err) {\r\n    console.log(err);\r\n  } finally {\r\n    setLoading(false);\r\n  }\r\n};\r\n","import { useEffect, useState } from \"react\";\r\nimport { useLocation, useParams } from \"react-router-dom\";\r\nimport \"./chatinfo.css\";\r\nimport { Loader } from \"../Loader/Loader\";\r\nimport { Text } from \"./TextChat/Text\";\r\nimport React from \"react\";\r\nimport { fetchTextChat } from \"../dataFetch/dataFetch\";\r\ninterface APIEntry {\r\n  API: string;\r\n  Description?: string;\r\n}\r\nconst Chatinfo: React.FC = () => {\r\n  const { chatId } = useParams<string>();\r\n  const [list, setList] = useState<APIEntry[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const validChatId = chatId || \"\";\r\n    fetchTextChat(validChatId, setLoading, setList);\r\n  }, [chatId]);\r\n\r\n  return (\r\n    <div className=\"item\">\r\n      {loading ? (\r\n        <Loader />\r\n      ) : (\r\n        list.map(({ API, Description }) => (\r\n          <div key={API} className=\"name-contact\">\r\n            <h1 className=\"title\">{API}</h1>\r\n            <p className=\"description\">{Description}</p>\r\n          </div>\r\n        ))\r\n      )}\r\n      <Text />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chatinfo;\r\n","import React, { FC } from \"react\";\r\nimport \"./loader.css\";\r\nconst Loader: FC = () => {\r\n  return (\r\n    <div className=\"spinner\">\r\n      <div className=\"part\"></div>\r\n      <div className=\"part\"></div>\r\n      <div className=\"part\"></div>\r\n    </div>\r\n  );\r\n};\r\nexport { Loader };\r\n"],"names":["Text","chatId","useParams","_useState","useState","_useState2","_slicedToArray","text","setText","_useState3","_useState4","textArray","setTextArray","_useState5","_useState6","errHidden","setErrHidden","useEffect","_jsxs","className","children","_jsx","map","message","index","onSubmit","e","preventDefault","setTimeout","arrMessage","prevTextArray","concat","_toConsumableArray","type","placeholder","value","onChange","currentTarget","fetchBase","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$axios$get","data","listInfo","wrap","_context","prev","next","axios","get","sent","entries","slice","abrupt","t0","console","log","stop","apply","arguments","fetchTextChat","_ref3","_callee3","setLoading","setList","_context3","startTransition","filter","_ref4","API","finish","_x","_x2","_x3","list","loading","Loader","Description"],"sourceRoot":""}